{
  "id": "com.smartq.kanbanViz.visualizationDatamodelHandler",
  "version": "1.0.0",
  "module": "com-smartq-kanbanviz/kanbanVizdatamodelhandler",
  "method": "getHandler",
  "config": {
    "vizPreference": 50,

    "measureLabelConfig": {
      "supportedEdges": ["color", "size", "tooltip"],
      "defaultEdge": "row",
      "visibility": "hidden"
    },

    "edgeConfig": {
      "measures": {
        "contentType": "measures",
        "global": {
          "minCount": 1,
          "maxCount": 1,
          "priority": 10
        },
        "ui": {
          "customName": {
            "key": "KANBANVIZ_MEASURE",
            "default": "Completion %"
          }
        }
      },

      "row": {
        "contentType": "categorical",
        "global": {
          "priority": 1,
          "minCount": 1,
          "maxCount": 4,
          "preferredMax": 4
        },
        "ui": {
          "customName": {
            "key": "KANBANVIZ_ROW",
            "default": "Task"
          }
        },
        "categorical": {
          "functionalInfo": ["categoricalType"]
        }
      },

      "color": {
        "contentType": "categorical",
        "global": {
          "priority": 2,
          "minCount": 0,
          "maxCount": 1
        },
        "ui": {
          "customName": {
            "key": "KANBANVIZ_COLOR",
            "default": "Color"
          }
        },
        "categorical": {
          "functionalInfo": ["inner", "row", "categoricalType"]
        }
      },

      "tooltip": {
        "contentType": "categorical",
        "global": {
          "priority": 5,
          "minCount": 0,
          "maxCount": 8
        },
        "ui": {
          "customName": {
            "key": "KANBANVIZ_TOOLTIP",
            "default": "Tooltip"
          },
          "description": "1st column: RED condition flag (Y/D/1/TRUE). 2nd column: YELLOW condition flag (Y/D/1/TRUE). Remaining columns appear in tooltip."
        },
        "categorical": {
          "functionalInfo": ["categoricalType"],
          "edgeLabels": {
            "supported": true,
            "properties": [
              {
                "id": "displayName",
                "type": "string",
                "label": "Display Name",
                "default": ""
              },
              {
                "id": "colorRole",
                "type": "dropdown",
                "label": "Color Role",
                "default": "none",
                "options": [
                  {"value": "none", "label": "None (Show in Tooltip)"},
                  {"value": "red", "label": "RED Condition"},
                  {"value": "yellow", "label": "YELLOW Condition"}
                ]
              }
            ]
          }
        }
      },

      "size": "none",
      "glyph": "none"
    }
  }
}
